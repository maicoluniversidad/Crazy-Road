<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fuel Rush â›½ (Pixel Edition)</title>
<style>
  body {
    margin: 0;
    background: #111;
    font-family: monospace;
    color: white;
    text-align: center;
  }
  #game {
    margin: 20px auto;
    display: block;
    background: #222;
    border: 4px solid #555;
  }
  #score {
    font-size: 20px;
    margin-top: 10px;
  }
</style>
</head>
<body>
<h1>Fuel Rush â›½ Pixel Edition</h1>
<canvas id="game" width="300" height="500"></canvas>
<div id="score">Puntos: 0</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let playerX = 130, playerY = 400;
let enemies = [];
let fuels = [];
let score = 0;
let gameOver = false;

// --- Sprites en Base64 (Pixel art pequeÃ±os) ---
const imgPlayer = new Image();
imgPlayer.src =
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAA8CAYAAACm7V0NAAAAvElEQVR4nO3UwQkCQRBA0XXtoP//5qNgA5EZo6rMnlN9c7l3gZj0rA5FsQYAAAAAAAAAAAAAAAAA8P+B9Ytke2XmOK9tZ5gFsqHXvSeWv3btjl+Zm3u9Z4D4UzYbjKXgZrFYJtDXaOtFu3mNDXIMXnrvZrDdxl35BeYX+dz8mTfpuSxDlxiN/AUlXy+N1DzwTmNYVtiCKsOLbWh/WELeAp/rLg96DHtJ6wBhzbd18XxAfsHvSztMAV2DjgL5H9PMfXAYAAAAAAAAAAAAAAIA+fwHQoiuymzuHugAAAABJRU5ErkJggg==";

const imgEnemy = new Image();
imgEnemy.src =
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAA8CAYAAACm7V0NAAAAtklEQVR4nO3UwQmAMBRF0XtJBL9HezYQkKChPsa0X+wnI3cfJjLajGgAAAAAAAAAAAAAAAH/gm5UwnyXtdvTuBGZcSyB7VX0F9BdFfZ7FjPM8Rr9gz/YNvAfNbnPskre2Pa+ufHOn3oWQNl8iNvFmQh6T1C4jC9Nn6bUV7h87G7M15d4A9wN9rOnm0HgL4L2C9tf0b8G+SAsTOcIiz5gPpyoqkZJgAAAAAAAAAAAAAAAHwOYCVWh97OCThMAAAAAElFTkSuQmCC";

const imgFuel = new Image();
imgFuel.src =
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAgCAYAAAAcQ5s8AAAAqUlEQVR4nO2TwQmAMAxD5a+Hg7mCB5RWRQZx0+3+1s4bSPlIP0IiDgAAAAAAAAAAAP4zQHQ8GksRz3IbLXmuDJqGHyGe68PaB7lj5ivhKjQOaDnpX7CF0dB6tjx7f9w8VgN9qPEaXAKrG6Rt9ahO4jtzKQ8aVu9CF6MHF5POs8AMWxYB/odsmSeQtNn2no4Bb/qj2TMezruQAAAAASUVORK5CYII=";

// --- Fondo carretera ---
function drawRoad() {
  ctx.fillStyle = "black";
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  ctx.strokeStyle = "white";
  ctx.lineWidth = 4;
  for (let y = 0; y < canvas.height; y += 40) {
    ctx.beginPath();
    ctx.moveTo(150, y);
    ctx.lineTo(150, y + 20);
    ctx.stroke();
  }
}

// --- Dibujar jugador ---
function drawPlayer() {
  ctx.drawImage(imgPlayer, playerX, playerY, 40, 60);
}

// --- Dibujar enemigos ---
function drawEnemies() {
  enemies.forEach((enemy, i) => {
    enemy.y += 3;
    ctx.drawImage(imgEnemy, enemy.x, enemy.y, 40, 60);
    if (enemy.y > 500) enemies.splice(i, 1);

    // ColisiÃ³n
    if (enemy.x < playerX + 40 && enemy.x + 40 > playerX &&
        enemy.y < playerY + 60 && enemy.y + 60 > playerY) {
      gameOver = true;
    }
  });
}

// --- Dibujar fuel ---
function drawFuel() {
  fuels.forEach((fuel, i) => {
    fuel.y += 2;
    ctx.drawImage(imgFuel, fuel.x, fuel.y, 30, 40);
    if (fuel.y > 500) fuels.splice(i, 1);

    // ColisiÃ³n
    if (fuel.x < playerX + 40 && fuel.x + 30 > playerX &&
        fuel.y < playerY + 60 && fuel.y + 40 > playerY) {
      score += 5;
      fuels.splice(i, 1);
    }
  });
}

// --- Control jugador ---
document.addEventListener("keydown", e => {
  if (gameOver) return;
  if (e.key === "ArrowLeft" && playerX > 10) playerX -= 20;
  if (e.key === "ArrowRight" && playerX < 250) playerX += 20;
});

// --- Spawns ---
setInterval(() => {
  if (!gameOver) enemies.push({x: Math.random() * 250, y: -60});
}, 1500);

setInterval(() => {
  if (!gameOver) fuels.push({x: Math.random() * 250, y: -40});
}, 4000);

// --- Bucle principal ---
function loop() {
  if (gameOver) {
    ctx.fillStyle = "red";
    ctx.font = "20px monospace";
    ctx.fillText("ðŸ’¥ GAME OVER ðŸ’¥", 80, 250);
    return;
  }

  drawRoad();
  drawPlayer();
  drawEnemies();
  drawFuel();

  score++;
  document.getElementById("score").innerText = "Puntos: " + score;

  requestAnimationFrame(loop);
}

loop();
</script>
</body>
</html>

